<meta name="viewport" charset=utf-8″ content="width=device-width, initial-scale=1, user-scalable=no" />
<html>

<head>
	<title>个人信息</title>
</head>
<script type="text/javascript" src="js/js_lead-in.js"></script>

<body>
	<div id="control" v-cloak>
		<van-nav-bar title="个人信息" left-text="返回" border="true" left-arrow fixed @click-left="goBack()"></van-nav-bar>
		<div class="container">
			<img class="user-poster"
				src="https://img.yzcdn.cn/public_files/2017/10/23/8690bb321356070e0b8c4404d087f8fd.png">
			<van-cell-group>
				<van-cell icon="records" title="教务通知" is-link />
			</van-cell-group>
			<van-cell-group>
				<van-cell icon="records" title="我的消息" is-link />
			</van-cell-group>
			<van-cell-group>
				<van-cell icon="points" title="学程绩点" is-link />
			</van-cell-group>
			<van-cell-group>
				<van-cell icon="points" title="关于我们" is-link />
			</van-cell-group>
			<div class="buttoncontainer">
				<van-button plain hairline round type="info" size="large" @click="logout">退出登录</van-button>
			</div>
		</div>
		<script type="text/javascript" src="js/footer.js"></script>
	</div>
</body>

<script>
	var vm = new Vue({
		el: '#control',
		data: {
			token: '',
			footeractive: 3,
			User: {},
		},
		methods: {
			goBack() {
				history.go(-1);
			},
			logout() {
				this.$dialog.confirm({
					message: '确认要退出登录吗？'
				}).then(() => {
					localStorage.clear()
					sessionStorage.clear()
					window.location.href = 'login.html'
				}).catch(() => { });
			},
		},
		mounted() {
			if (localStorage['token']) {
				this.token = localStorage['token']
				this.User = JSON.parse(localStorage.User)
			} else if (sessionStorage['token']) {
				this.token = sessionStorage['token']
				this.User = JSON.parse(sessionStorage.User)
			}
			if (!this.token) {
				window.location.href = 'login.html'
			}
		},
	});
</script>
<style>
	.user-poster {

		width: 100%;
		height: 53vw;
		display: block;
	}

	.van-icon {
		display: block;
		font-size: 24px;
	}

	.buttoncontainer {
		width: 96%;
		margin-left: 2%;
		margin-top: 15px;
		text-align: center;
	}
</style>


</html>